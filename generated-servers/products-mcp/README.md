# products-mcp MCP Server

MCP server for **products** API, dynamically generated from OpenAPI specification.

## Overview

This server reads tool definitions from `tools.json` and exposes them as MCP (Model Context Protocol) tools that can be used by AI assistants like Claude.

## Available Tools

### Standard Tools

- **`listProducts`**: Retrieve a paginated list of products
- **`createProduct`**: Create a new product
- **`getProduct`**: Get product details
- **`updateProduct`**: Update a product
- **`deleteProduct`**: Delete a product
- **`listOrders`**: List all orders
- **`createOrder`**: Create a new order
- **`getOrder`**: Get order details
- **`listCustomers`**: List all customers
- **`createCustomer`**: Create a new customer
- **`getCustomer`**: Get customer details
- **`listCustomerOrders`**: List orders for a customer


### Composite Tools (Multi-Endpoint Orchestrations)

- **`get_customer_with_latest_products`**: Retrieve a customer's details along with the latest 10 products they ordered, sorted by order date *(combines 6 endpoints)*


## Installation

1. Install dependencies:
```bash
pip install -e .
```

2. Configure environment variables:
```bash
cp .env.example .env
# Edit .env with your API credentials
```

## Configuration

### Environment Variables

- `API_KEY`: Your API key for products (if required)
- `TOOLS_CONFIG_PATH`: Path to tools.json (defaults to `./tools.json`)

### Tools Configuration

The server reads tool definitions from `tools.json`. This file contains:
- API metadata (name, base URL)
- Standard tool definitions (single endpoint mappings)
- Composite tool definitions (multi-endpoint orchestrations)

You can modify `tools.json` to add, remove, or customize tools without changing the server code.

## Usage with Claude Desktop

Add to your Claude Desktop config (`~/Library/Application Support/Claude/claude_desktop_config.json` on macOS):

```json
{{
  "mcpServers": {{
    "products-mcp": {{
      "command": "python",
      "args": ["generated_servers/products-mcp/server.py"],
      "env": {{
        "API_KEY": "your-api-key-here",
        "TOOLS_CONFIG_PATH": "generated_servers/products-mcp/tools.json"
      }}
    }}
  }}
}}
```

## Usage with Other MCP Clients

```bash
# Set environment variables
export API_KEY=your-api-key-here
export TOOLS_CONFIG_PATH=/path/to/tools.json

# Run the server
python server.py
```

## Architecture

This server uses a **declarative configuration approach**:

1. **tools.json** - Contains all tool definitions in a JSON format
2. **server.py** - Generic server that reads the JSON and dynamically creates MCP tools
3. **No code generation** - Tools are defined as data, not generated Python code

### Benefits

- ✅ Easy to modify tools without regenerating server code
- ✅ Version control friendly (JSON is easier to diff than generated Python)
- ✅ Separation of concerns (configuration vs. runtime)
- ✅ Supports both standard and composite tools
- ✅ Can be used as a base for multiple API integrations

## Composite Tools

Composite tools combine multiple API endpoints into a single tool. They execute endpoints in sequence and combine the results. The orchestration logic is defined in the `orchestration_logic` field of each composite tool.

## Generated by OpenAPI to MCP Converter

This server was automatically generated from an OpenAPI specification using the [OpenAPI to MCP Converter](https://github.com/yourusername/openapi-to-mcp).

## License

MIT
