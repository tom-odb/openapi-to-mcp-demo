# {server_name} MCP Server

MCP server for **{api_name}** API, dynamically generated from OpenAPI specification.

## Overview

This server reads tool definitions from `tools.json` and exposes them as MCP (Model Context Protocol) tools that can be used by AI assistants like Claude.

## Available Tools

### Standard Tools

{tools_list}

{composite_tools_section}

## Installation

### Prerequisites

- Python 3.10+
- [uv](https://docs.astral.sh/uv/) (recommended) or pip

### Using uv (recommended)

1. Install dependencies:
```bash
# Standard installation (for standard tools only)
uv sync

# With composite tools support (includes Anthropic)
uv sync --extra composite
```

2. Configure environment variables:
```bash
cp .env.example .env
# Edit .env with your API credentials
# If using composite tools, also add ANTHROPIC_API_KEY
```

### Using pip (alternative)

1. Install dependencies:
```bash
# Standard installation (for standard tools only)
pip install -e .

# With composite tools support (includes Anthropic)
pip install -e ".[composite]"
```

2. Configure environment variables:
```bash
cp .env.example .env
# Edit .env with your API credentials
# If using composite tools, also add ANTHROPIC_API_KEY
```

## Configuration

### Environment Variables

- `API_KEY`: Your API key for {api_name} (if required)
- `TOOLS_CONFIG_PATH`: Path to tools.json (defaults to `./tools.json`)

### Tools Configuration

The server reads tool definitions from `tools.json`. This file contains:
- API metadata (name, base URL)
- Standard tool definitions (single endpoint mappings)
- Composite tool definitions (multi-endpoint orchestrations)

You can modify `tools.json` to add, remove, or customize tools without changing the server code.

## Running the Server

### For Development/Testing

Run with uvicorn directly:
```bash
uv run uvicorn server:app --host 0.0.0.0 --port 8000
```

Or activate the virtual environment first:
```bash
source .venv/bin/activate  # On Linux/macOS
# or
.venv\Scripts\activate  # On Windows

uvicorn server:app --host 0.0.0.0 --port 8000
```

## Usage with Claude Desktop

Add to your Claude Desktop config (`~/Library/Application Support/Claude/claude_desktop_config.json` on macOS):

```json
{
  "mcpServers": {
    "products": {
      "command": "~/.local/bin/uv",
      "args": [
        "run",
				"~/projects/demos/openapi-to-mcp/generated-servers/products-mcp/server.py"
      ],
      "cwd": "~/projects/demos/openapi-to-mcp/generated-servers/products-mcp"
    }
  }
}
```

```json
{
  "mcpServers": {
    "products": {
      "command": "/Users/opdebto/Projects/demos/products-mcp/.venv/Scripts/python",
      "args": [
        "/Users/opdebto/Projects/demos/products-mcp/server.py"
      ],
      "cwd": "/Users/opdebto/Projects/demos/products-mcp"
    }
  }
}

## Usage with VS Code (GitHub Copilot)

Add to your VS Code MCP config (`.vscode/mcp.json` in your workspace):

```json
{
  "servers": {
    "products": {
			"type": "stdio",
			"command": "~/.local/bin/uv",
			"args": [
				"run",
				"~/projects/demos/openapi-to-mcp/generated-servers/products-mcp/server.py"
			],
			"cwd": "~/projects/demos/openapi-to-mcp/generated-servers/products-mcp"
		}
  },
  "inputs": []
}
```

## Usage with Other MCP Clients

```bash
# Set environment variables
export API_KEY=your-api-key-here
export TOOLS_CONFIG_PATH=/path/to/tools.json

# Run the server
python server.py
```

## Architecture

This server uses a **declarative configuration approach**:

1. **tools.json** - Contains all tool definitions in a JSON format
2. **server.py** - Generic server that reads the JSON and dynamically creates MCP tools
3. **No code generation** - Tools are defined as data, not generated Python code

### Benefits

- ✅ Easy to modify tools without regenerating server code
- ✅ Version control friendly (JSON is easier to diff than generated Python)
- ✅ Separation of concerns (configuration vs. runtime)
- ✅ Supports both standard and composite tools
- ✅ Can be used as a base for multiple API integrations

## Composite Tools

Composite tools combine multiple API endpoints into a single tool. They execute endpoints in sequence and combine the results. The orchestration logic is defined in the `orchestration_logic` field of each composite tool.

## Generated by OpenAPI to MCP Converter

This server was automatically generated from an OpenAPI specification using the [OpenAPI to MCP Converter](https://github.com/yourusername/openapi-to-mcp).

## License

MIT
